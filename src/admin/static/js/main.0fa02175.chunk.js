(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,a,t){e.exports=t(54)},28:function(e,a,t){},52:function(e,a,t){},54:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(22),c=t.n(r),s=t(56),i=t(57),o=(t(28),t(2)),m=t(3),u=t(5),d=t(4),p=t(6),h=t(58),f=t(14),b=t.n(f),E=function(){function e(a){Object(o.a)(this,e),this.endpoint=a}return Object(m.a)(e,[{key:"request",value:function(e,a,t){console.log(this.endpoint);var n=this.endpoint+"/"+a,l="";for(var r in t)0!==l.length&&(l+="&"),l+=r+"="+t[r];return 0===l.length?n:n+"?"+l}},{key:"login",value:function(e,a,t){var n=this.request("GET","login",{user:e.username,password:e.password});b.a.get(n).then(function(e){var n=e.data;"status"in n?(console.log("Login failed!"),t()):(localStorage.setItem("user",JSON.stringify(n)),console.log("Login OK!"),a())})}},{key:"getModules",value:function(e,a){var t=this.request("GET","modules");b.a.get(t).then(function(a){console.log(a.data),e(a.data)})}},{key:"getTest",value:function(e,a){b.a.get("/api/index.html").then(function(a){e(a.data)})}}]),e}(),g=function(){function e(){Object(o.a)(this,e)}return Object(m.a)(e,[{key:"login",value:function(e,a,t){window._backend.login(e,a,t)}},{key:"isAuth",value:function(){return!!localStorage.getItem("user")}},{key:"noAuthNeeded",value:function(e){return!!["/login"].includes(e)}}]),e}(),v=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(u.a)(this,Object(d.a)(a).call(this))).handleSubmit=function(a){a.preventDefault(),window._auth.login(e.state.user,function(){e.setState({message:""}),e.props.history.push("/")},function(a){e.setState({message:a})})},e.handleChange=function(a){var t=a.target;if(t instanceof HTMLInputElement){var n=t.id,l="checkbox"===t.type?t.checked:t.value;e.setState(function(e){return e.user[n]=l,e})}},e.state={user:{username:"",password:"",remember:!0},message:""},e}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"padding-15"},l.a.createElement("div",{className:"login-box"},l.a.createElement("form",{className:"sky-form boxed",onSubmit:this.handleSubmit},l.a.createElement("header",null,l.a.createElement("i",{className:"fa fa-users"})," Prijava"),l.a.createElement("fieldset",null,l.a.createElement("section",null,l.a.createElement("label",{className:"label"},"Uporabni\u0161ko ime"),l.a.createElement("label",{className:"input"},l.a.createElement("i",{className:"icon-append fa fa-user"}),l.a.createElement("input",{type:"text",id:"username",value:this.state.user.username,onChange:this.handleChange}),l.a.createElement("span",{className:"tooltip tooltip-top-right"},"Vpi\u0161i uporabni\u0161ko ime"))),l.a.createElement("section",null,l.a.createElement("label",{className:"label"},"Geslo"),l.a.createElement("label",{className:"input"},l.a.createElement("i",{className:"icon-append fa fa-lock"}),l.a.createElement("input",{type:"password",id:"password",value:this.state.user.password,onChange:this.handleChange}),l.a.createElement("b",{className:"tooltip tooltip-top-right"},"Vpi\u0161i geslo")),l.a.createElement("label",{className:"checkbox"},l.a.createElement("input",{type:"checkbox",id:"remember",checked:this.state.user.remember,onChange:this.handleChange}),l.a.createElement("i",null),"Permanentna prijava"))),l.a.createElement("footer",null,l.a.createElement("button",{type:"submit",className:"btn btn-primary pull-right"},"Prijava"),l.a.createElement("div",{className:"forgot-password pull-left"})))))}}]),a}(n.Component),y=t(55),O=function(e){function a(e,t){var n;return Object(o.a)(this,a),(n=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={title:"",breadcrumb:[]},n}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=JSON.parse(this.props.links);return l.a.createElement("header",{id:"page-header"},l.a.createElement("h1",null,this.props.name),l.a.createElement("ol",{className:"breadcrumb"},e.map(function(e,a){return"url"in e?l.a.createElement("li",{key:a},l.a.createElement(y.a,{to:e.url},e.name)):l.a.createElement("li",{key:a,className:"active"},e.name)})))}}]),a}(n.Component),N=function(e){function a(e,t){var n;return Object(o.a)(this,a),(n=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={installed:e.data.installed},n}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){console.log(this.state.installed);var e=this.props.data.config?this.props.data.config.name:"",a=this.props.data.config?this.props.data.config.description:"";return""===a&&(a="No description available ..."),l.a.createElement("div",{id:"panel-misc-portlet-r8",className:"panel panel-default"},l.a.createElement("div",{className:"panel-heading"},l.a.createElement("span",{className:"elipsis"},l.a.createElement("strong",null,e," (",this.props.data.name,")")),l.a.createElement("ul",{className:"options pull-right relative list-unstyled"},l.a.createElement("li",null,l.a.createElement("a",{href:"#",className:"dropdown-toggle","data-toggle":"dropdown"},l.a.createElement("span",{className:this.state.installed?"label label-success":"label label-danger"},"Status ",l.a.createElement("span",{className:"caret"}))),l.a.createElement("ul",{className:"dropdown-menu pull-right",role:"menu"},l.a.createElement("li",null,l.a.createElement("a",{"data-portlet":"color_status_switch","data-action":"path_to_chat.php?status=online","data-method":"GET",href:"#label-success"},l.a.createElement("i",{className:"fa fa-dot-circle-o color-green"})," Install")),l.a.createElement("li",null,l.a.createElement("a",{"data-portlet":"color_status_switch","data-action":"path_to_chat.php?status=busy","data-method":"GET",href:"#label-danger"},l.a.createElement("i",{className:"fa fa-dot-circle-o color-red"})," Broken")),l.a.createElement("li",null,l.a.createElement("a",{"data-portlet":"color_status_switch","data-action":"path_to_chat.php?status=away","data-method":"GET",href:"#label-warning"},l.a.createElement("i",{className:"fa fa-dot-circle-o color-yellow"})," Detach")),l.a.createElement("li",null,l.a.createElement("a",{"data-portlet":"color_status_switch","data-action":"path_to_chat.php?status=offline","data-method":"GET",href:"#label-disabled"},l.a.createElement("i",{className:"fa fa-dot-circle-o color-gray"})," Uninstall")))))),l.a.createElement("div",{className:"panel-body"},l.a.createElement("p",null,a),l.a.createElement("b",null,"Integrity:"),"\xa0",l.a.createElement("span",{className:this.props.data.integrity.create?"label label-success":"label label-danger"},"Create"),"\xa0",l.a.createElement("span",{className:this.props.data.integrity.destroy?"label label-success":"label label-danger"},"Destroy"),"\xa0",l.a.createElement("span",{className:this.props.data.integrity.data?"label label-success":"label label-danger"},"Initial data"),"\xa0",l.a.createElement("span",{className:this.props.data.integrity.config?"label label-success":"label label-danger"},"Admin config")))}}]),a}(n.Component),j=function(e){function a(e,t){var n;return Object(o.a)(this,a),(n=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={data:[]},n}return Object(p.a)(a,e),Object(m.a)(a,[{key:"handleChange",value:function(){}},{key:"render",value:function(){return console.log("Props",this.props.config),l.a.createElement("div",null,l.a.createElement(O,{name:"Install Modules",links:JSON.stringify([{name:"Dashboard",url:"/"},{name:"Installation"}])}),l.a.createElement("div",{id:"content",className:"padding-20"},this.props.config.map(function(e,a){return l.a.createElement(N,{key:a,data:e})})))}}]),a}(n.Component),k=function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidUpdate",value:function(){window._aside()}},{key:"render",value:function(){var e=this.props.config.map(function(e,a){var t=e.name;"config"in e&&(t=e.config.name);var n="/list/"+e.name,r="/add/"+e.name;return l.a.createElement("li",{key:a},l.a.createElement(y.a,{to:"#"},l.a.createElement("i",{className:"fa fa-menu-arrow pull-right"}),l.a.createElement("i",{className:"main-icon fa fa-book"})," ",l.a.createElement("span",null,t)),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(y.a,{to:n},"List")),l.a.createElement("li",null,l.a.createElement(y.a,{to:r},"Add"))))});return l.a.createElement("aside",{id:"aside"},l.a.createElement("nav",{id:"sideNav"},l.a.createElement("ul",{className:"nav nav-list"},l.a.createElement("li",{className:"active"},l.a.createElement(y.a,{className:"dashboard",to:"/"},l.a.createElement("i",{className:"main-icon fa fa-dashboard"})," ",l.a.createElement("span",null,"Dashboard"))),l.a.createElement("li",null,l.a.createElement(y.a,{to:"#"},l.a.createElement("i",{className:"fa fa-menu-arrow pull-right"}),l.a.createElement("i",{className:"main-icon fa fa-book"})," ",l.a.createElement("span",null,"Pages")),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"page-invoice.html"},"Invoice")),l.a.createElement("li",null,l.a.createElement("a",{href:"page-login.html"},"Login")))),e),l.a.createElement("h3",null,"MORE"),l.a.createElement("ul",{className:"nav nav-list"},l.a.createElement("li",null,l.a.createElement(y.a,{to:"/install"},l.a.createElement("i",{className:"main-icon fa fa-gears"})," ",l.a.createElement("span",null,"Install"))),l.a.createElement("li",null,l.a.createElement(y.a,{to:"/settings"},l.a.createElement("i",{className:"main-icon fa fa-code"})," ",l.a.createElement("span",null,"Settings"))))),l.a.createElement("span",{id:"asidebg"}))}}]),a}(n.Component),w=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(u.a)(this,Object(d.a)(a).call(this))).state={name:""},e}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("user"));null!=e&&this.setState({name:e.name})}},{key:"render",value:function(){return l.a.createElement("nav",null,l.a.createElement("ul",{className:"nav pull-right"},l.a.createElement("li",{className:"dropdown pull-left"},l.a.createElement(y.a,{to:"#",className:"dropdown-toggle","data-toggle":"dropdown","data-hover":"dropdown","data-close-others":"true"},l.a.createElement("img",{className:"user-avatar",alt:"",src:"assets/images/noavatar.jpg",height:"34"}),l.a.createElement("span",{className:"user-name"},l.a.createElement("span",{className:"hidden-xs"},this.state.name," ",l.a.createElement("i",{className:"fa fa-angle-down"})))),l.a.createElement("ul",{className:"dropdown-menu hold-on-click"},l.a.createElement("li",null,l.a.createElement(y.a,{to:"/settings",className:"test"},l.a.createElement("i",{className:"fa fa-cogs"})," Settings")),l.a.createElement("li",{className:"divider"}),l.a.createElement("li",null,l.a.createElement(y.a,{to:"/logout"},l.a.createElement("i",{className:"fa fa-power-off"})," Log Out"))))))}}]),a}(n.Component),_=function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement("header",{id:"header"},l.a.createElement("button",{id:"mobileMenuBtn"}),l.a.createElement("span",{className:"logo pull-left"},l.a.createElement("img",{src:"/assets/images/logo_light.png",alt:"admin panel",height:"35",style:{marginTop:"8px"}})),l.a.createElement(w,null))}}]),a}(n.Component),C=function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){console.log(this.props);var e=this.props.name,a=this.props.description;void 0===a&&(a=e);var t=this.props.value;return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-md-12 col-sm-12"},l.a.createElement("label",null,a),l.a.createElement("input",{type:"text",className:"form-control",name:e,id:e,value:t}))))}}]),a}(n.Component),S=function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){console.log(this.props);var e=this.props.name,a=this.props.description;void 0===a&&(a=e);this.props.value;var t="form-control";return"type"in this.props&&"summernote"===this.props.type&&(t="form-control summernote"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-md-12 col-sm-12"},l.a.createElement("label",null,a),l.a.createElement("textarea",{name:"content",rows:"10",className:t,"data-height":"300","data-lang":"en-US"}))))}}]),a}(n.Component),x=function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){window._editors()}},{key:"render",value:function(){console.log(this.props.fields);var e=this.props.fields.map(function(e,a){return"text"===e.type?l.a.createElement(C,{name:e.name,value:e.value,description:e.description,key:a}):"textarea"===e.type?l.a.createElement(S,{name:e.name,value:e.value,description:e.description,key:a}):"richtextarea"===e.type?l.a.createElement(S,{name:e.name,value:e.value,description:e.description,type:"summernote",key:a}):void 0});return l.a.createElement("fieldset",null,l.a.createElement("div",{className:"panel panel-default"},l.a.createElement("div",{className:"panel-body"},e)))}}]),a}(n.Component),I=function(){function e(){Object(o.a)(this,e)}return Object(m.a)(e,null,[{key:"moduleId",value:function(e){return e.match.params.id}},{key:"getRecordI",value:function(e,a,t){for(var n=0;n<e.length;n++)if(e[n][a]===t)return n;return-1}},{key:"moduleTitle",value:function(e,a){for(var t=a,n=0;n<e.length;n++){var l=e[n];l.name===a&&"config"in l&&(t=l.config.name)}return t}},{key:"moduleConfig",value:function(e,a){var t=this.getRecordI(e,"name",a);return-1!==t?e[t].config:null}}]),e}(),D=function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=I.moduleId(this.props),a=I.moduleTitle(this.props.config,e),t=I.moduleConfig(this.props.config,e),n=[];null!=t&&(n=t.config[0].fields);var r=[{name:"Dashboard",url:"/"},{name:a,url:"/view/"+e},{name:"Add"}],c="Add Record - "+a;return l.a.createElement("div",null,l.a.createElement(O,{name:c,links:JSON.stringify(r)}),l.a.createElement("form",{className:"validate",action:"php/contact.php",method:"post",encType:"multipart/form-data","data-success":"Sent! Thank you!","data-toastr-position":"top-right"},l.a.createElement("div",{id:"content",className:"padding-20"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-9 col-sm-12"},l.a.createElement(x,{fields:n})),l.a.createElement("div",{className:"col-md-3 col-sm-12"},l.a.createElement("div",{className:"panel panel-default"},l.a.createElement("div",{className:"panel-body"},l.a.createElement("input",{type:"submit",className:"btn btn-3d btn-dirtygreen btn-block",value:"Submit"}),l.a.createElement("input",{type:"submit",className:"btn btn-3d btn-purple btn-block",value:"Submit & edit"}),l.a.createElement("input",{type:"submit",className:"btn btn-3d btn-red btn-block",value:"Discard"}))))))))}}]),a}(n.Component),T=function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){window._backend.getTest(function(e){console.log(e)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O,{name:"Dashboard",links:JSON.stringify([{name:"Dashboard"}])}))}}]),a}(n.Component),M=function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return localStorage.removeItem("user"),l.a.createElement(h.a,{to:"/"})}}]),a}(n.Component);window._backend=new E("http://192.168.99.100/api");var A=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(u.a)(this,Object(d.a)(a).call(this))).state={config:[]},e}return Object(p.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;window._backend.getModules(function(a){e.setState({config:a})})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"wrapper"},l.a.createElement(k,{config:this.state.config}),l.a.createElement(_,{config:this.state.config}),l.a.createElement("section",{id:"middle"},[l.a.createElement(i.a,{path:"/",exact:!0,component:T,key:"1"}),l.a.createElement(i.a,{path:"/logout",exact:!0,component:M,key:"3"}),l.a.createElement(i.a,{path:"/install",exact:!0,render:function(a){return l.a.createElement(j,Object.assign({},a,{config:e.state.config}))},key:"4"}),l.a.createElement(i.a,{path:"/add/:id",exact:!0,render:function(a){return l.a.createElement(D,Object.assign({},a,{config:e.state.config}))},key:"5"}),l.a.createElement(i.a,{path:"/list/:id",exact:!0,component:D,key:"6"})]))}}]),a}(n.Component);t(52);window._backend=new E("/api"),window._auth=new g;var J=function(e){function a(){return Object(o.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(p.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return window._auth.isAuth()?l.a.createElement(A,null):window._auth.noAuthNeeded(this.props.location.pathname)?[l.a.createElement(i.a,{path:"/login",exact:!0,component:v,key:"2"})]:l.a.createElement(h.a,{to:"/login"})}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(s.a,{basename:"/admin"},l.a.createElement(i.a,{path:"/",component:J,key:"0"})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.0fa02175.chunk.js.map